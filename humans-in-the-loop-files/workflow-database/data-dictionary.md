| Table             | Property            | Datatype  | Primary key / Foreign key | Definition                                                                                                                                                       | Controlled values                                                                                                                                                                  |
| ----------------- | ------------------- | --------- | ------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **ML\_Process**      |                     |           |                           | A machine learning process designed for a specific task in the HITL pipeline. May use a default model or a model created for this task.                          |                                                                                                                                                                                    |
|                   | id                  | serial    | PK                        | Auto-generated id                                                                                                                                                |                                                                                                                                                                                    |
|                   | name                | text      |                           | Name of the machine learning process                                                                                                                             |                                                                                                                                                                                    |
|                   | description         | text      |                           | Brief description of the machine learning process                                                                                                                |                                                                                                                                                                                    |
|                   | type                | text      |                           | Type of machine learning process                                                                                                                                 |                                                                                                                                                                                    |
|                   | input\_type         | text      |                           | Type of input the process takes in for computing predictions upon                                                                                                |                                                                                                                                                                                    |
|                   | output\_type        | text      |                           | Type of output created by the machine learning process                                                                                                           |                                                                                                                                                                                    |
|                   |                     |           |                           |                                                                                                                                                                  |                                                                                                                                                                                    |
| **ML\_Version**       |                     |           |                           | A version of a ML\_Process. A new version is established when a model is retrained on existing or new data or when other parameters of the process are adjusted. |                                                                                                                                                                                    |
|                   | id                  | serial    | PK                        | Auto-generated id                                                                                                                                                |                                                                                                                                                                                    |
|                   | ml\_process\_id     | integer   | FK                        | The ML\_Process being versioned                                                                                                                                  |                                                                                                                                                                                    |
|                   | version\_number     | integer   |                           | The version number                                                                                                                                               |                                                                                                                                                                                    |
|                   | train\_size         | integer   |                           | The number of data inputs the model is trained on                                                                                                                |                                                                                                                                                                                    |
|                   | validate\_size      | integer   |                           | The number of data inputs the model is validated on                                                                                                              |                                                                                                                                                                                    |
|                   | train\_accuracy     | float     |                           | The training accuracy of the version                                                                                                                             |                                                                                                                                                                                    |
|                   | validate\_accuracy  | float     |                           | The validation accuracy of the version                                                                                                                           |                                                                                                                                                                                    |
|                   | date\_time          | timestamp |                           | The date and time the version was created                                                                                                                        |                                                                                                                                                                                    |
|                   |                     |           |                           |                                                                                                                                                                  |                                                                                                                                                                                    |
| **CS\_Task**          |                     |           |                           | A human annotation task (may be staff- or crowdsourced)                                                                                                          |                                                                                                                                                                                    |
|                   | id                  | serial    | PK                        | Auto-generated id                                                                                                                                                |                                                                                                                                                                                    |
|                   | name                | text      |                           | The name of the task                                                                                                                                             |                                                                                                                                                                                    |
|                   | description         | text      |                           | A description of the task                                                                                                                                        |                                                                                                                                                                                    |
|                   | type                | text      |                           | The type of task                                                                                                                                                 | TBD                                                                                                                                                                                |
|                   | input\_type         | text      |                           | Type of input the human creates annotations upon                                                                                                                 |                                                                                                                                                                                    |
|                   | output\_type        | text      |                           | Type of output created by the human annotation task                                                                                                              |                                                                                                                                                                                    |
|                   | num\_votes          | integer   |                           | The number of "votes" (consensus on annotation) required to consider the annotation accurate (optional)                                                          |                                                                                                                                                                                    |
|                   |                     |           |                           |                                                                                                                                                                  |                                                                                                                                                                                    |
| **Annotation**        |                     |           |                           | A human or machine-created annotation. May be the training input of a machine learning process, the output of a machine learning process, or both.               |                                                                                                                                                                                    |
|                   | id                  | serial    | PK                        | Auto-generated id                                                                                                                                                |                                                                                                                                                                                    |
|                   | source\_type        | text      |                           | The type of source of the annotation, human-generated or machine-generated                                                                                       | human<br>machine                                                                                                                                                                   |
|                   | ml\_version\_id     | integer   | FK                        | The ML\_Version that created the annotation, if source\_type = 'machine'                                                                                         |                                                                                                                                                                                    |
|                   | cs\_task\_id        | integer   | FK                        | The CS\_Task that generated the annotation, if source\_type = 'human'                                                                                            |                                                                                                                                                                                    |
|                   | data\_source\_id    | integer   | FK                        | The source input the annotation was created upon                                                                                                                 |                                                                                                                                                                                    |
|                   | confidence          | float     |                           | The confidence score the machine learning process gave for the annotation, if source\_type = 'machine'                                                           |                                                                                                                                                                                    |
|                   | subject\_type       | text      |                           | The type of content prodcued through the annotation, ex. "page", "business grouping"                                                                             |                                                                                                                                                                                    |
|                   | created\_at         | timestamp |                           | The date and time the annotation was created                                                                                                                     |                                                                                                                                                                                    |
|                   | parent\_id          | integer   | FK                        | The annotation id of a parent annotation, if the annotation is part of a hierarchical annotation.                                                                |                                                                                                                                                                                    |
|                   |                     |           |                           |                                                                                                                                                                  |                                                                                                                                                                                    |
| **Train**             |                     |           |                           | An instance of an annotation used as training or validation data in a version of ML\_Process model                                                               |                                                                                                                                                                                    |
|                   | id                  | serial    | PK                        | Auto-generated id                                                                                                                                                |                                                                                                                                                                                    |
|                   | annotation\_id      | integer   | FK                        | The id of the annotation                                                                                                                                         |                                                                                                                                                                                    |
|                   | ml\_version\_id     | integer   | FK                        | The ML\_Version the annotation was used in                                                                                                                       |                                                                                                                                                                                    |
|                   | train\_type         | text      |                           | How the annotation was used in the model, train or validate                                                                                                      | train<br>validate                                                                                                                                                                  |
|                   |                     |           |                           |                                                                                                                                                                  |                                                                                                                                                                                    |
| **Training\_Dataset** |                     |           |                           | A file used for training a machine learning version                                                                                                              |                                                                                                                                                                                    |
|                   | id                  | serial    | PK                        | Auto-generated id                                                                                                                                                |                                                                                                                                                                                    |
|                   | ml\_version\_id     | integer   | FK                        | The ML\_Version the annotation was used in                                                                                                                       |                                                                                                                                                                                    |
|                   | path                | text      |                           | The file path of the dataset file                                                                                                                                |                                                                                                                                                                                    |
|                   |                     |           |                           |                                                                                                                                                                  |                                                                                                                                                                                    |
| **Ground\_Truth**     |                     |           |                           | TBD to track annotations used for ground truth testing                                                                                                           |                                                                                                                                                                                    |
|                   | id                  |           |                           |                                                                                                                                                                  |                                                                                                                                                                                    |
|                   | annotation\_id      |           |                           |                                                                                                                                                                  |                                                                                                                                                                                    |
|                   | cs\_task\_id        |           |                           |                                                                                                                                                                  |                                                                                                                                                                                    |
|                   | ground\_truth\_type |           |                           |                                                                                                                                                                  |                                                                                                                                                                                    |
|                   |                     |           |                           |                                                                                                                                                                  |                                                                                                                                                                                    |
| **Data\_Source**      |                     |           |                           | The input used in a ML\_Process or a CS\_Task, such as an image, segment of an image, or string of text                                                          |                                                                                                                                                                                    |
|                   | id                  | serial    | PK                        | Auto-generated id                                                                                                                                                |                                                                                                                                                                                    |
|                   | name                | text      |                           | A name for the data source                                                                                                                                       |                                                                                                                                                                                    |
|                   | type                | text      |                           | The type of data source, such as an image or text                                                                                                                | collection<br>digital object<br>digital object image<br>page<br>business grouping<br>advertisement<br>information box<br>business listing<br>business grouping heading<br>page OCR |
|                   | source\_system      | text      |                           | The source system of the data, such as Scribe MongoDB, LC IIIF, etc.                                                                                             | Scribe MongoDB<br>LC IIIF server<br>                                                                                                                                               |
|                   | source\_id          | text      |                           | An external system identifier for the data source                                                                                                                |                                                                                                                                                                                    |
|                   | source\_url         |           |                           | A URL for the data source web page                                                                                                                               |                                                                                                                                                                                    |
|                   | source\_image\_url  | text      |                           | A URL for the data source raw image, ex. IIIF URL                                                                                                                |                                                                                                                                                                                    |
|                   | parent\_id          | integer   | FK                        | Data\_Source id of parent data, if applicable (ex. a segment of an image)                                                                                        |                                                                                                                                                                                    |
|                   | x                   | float     |                           | Xmin coordinate of the image within the context of its parent image, taken from the annotation                                                                   |                                                                                                                                                                                    |
|                   | y                   | float     |                           | Ymin coordinate of the image within the context of its parent image, taken from the annotation                                                                   |                                                                                                                                                                                    |
|                   | width               | float     |                           | Width of the image within the context of its parent image, taken from the annotation                                                                             |                                                                                                                                                                                    |
|                   | height              | float     |                           | Height of the image within the context of its parent image, taken from the annotation                                                                            |                                                                                                                                                                                    |
|                   | location            | text      |                           | The file path of the image, if stored locally                                                                                                                    |                                                                                                                                                                                    |
|                   | annotation\_id      | integer   | FK                        | Source annotation the data source was derived from                                                                                                               |                                                                                                                                                                                    |
|                   |                     |           |                           |                                                                                                                                                                  |                                                                                                                                                                                    |
| **Coordinates**       |                     |           |                           | Bounding box coordinates value of an annotation                                                                                                                  |                                                                                                                                                                                    |
|                   | id                  | serial    | PK                        | Auto-generated id                                                                                                                                                |                                                                                                                                                                                    |
|                   | x                   | float     |                           | The number of pixels from the 0 position on the horizontal axis                                                                                                  |                                                                                                                                                                                    |
|                   | y                   | float     |                           | The number of pixels from the 0 position on the vertical axis                                                                                                    |                                                                                                                                                                                    |
|                   | width               | float     |                           | Width of the region in pixels                                                                                                                                    |                                                                                                                                                                                    |
|                   | height              | float     |                           | Height of the region in pixels                                                                                                                                   |                                                                                                                                                                                    |
|                   | annotation\_id      | integer   | FK                        | Annotation the coordinates belong to                                                                                                                             |                                                                                                                                                                                    |
|                   | external\_id        | text      |                           | External mongo id of the coordinates                                                                                                                             |                                                                                                                                                                                    |
|                   |                     |           |                           |                                                                                                                                                                  |                                                                                                                                                                                    |
| **Text\_Value**       |                     |           |                           | Text value within coordinates of an annotation                                                                                                                   |                                                                                                                                                                                    |
|                   | id                  | serial    | PK                        | Auto-generated id                                                                                                                                                |                                                                                                                                                                                    |
|                   | key                 | text      |                           | The key, entity, or type of text value                                                                                                                           |                                                                                                                                                                                    |
|                   | value               | text      |                           | The text value                                                                                                                                                   |                                                                                                                                                                                    |
|                   | coordinates\_id     | text      | FK                        | Coordinates the text value correspond to                                                                                                                         |                                                                                                                                                                                    |
|                   | external\_id        | text      |                           |                                                                                                                                                                  |